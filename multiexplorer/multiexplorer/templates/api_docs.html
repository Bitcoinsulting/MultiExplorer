{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<style>
    #api {
        background: #E1D6FF;
    }

    #api table {
        width: 50%;
        margin: 10px auto 10px auto;
    }

    #api table td {
        border: 1px solid white;
        padding: 3px;
    }

    h2 {
        font-size: xx-large;
        padding: 40px;
    }

    h3 {
        background: #FFDFDB;
        padding: 40px;
        border-radius: 7px;
    }

    .code_wrapper {
        text-align: left;
        margin: 0 auto 0 auto;
        border: 1px solid gray;
        border-radius: 7px;
        background: #D9D9D9;
    }

    .examples {
        font-size: large;
        margin: 30px auto 30px auto;
        padding: 30px;
        background: #FFCECE;
        width: 75%;
    }

    .examples .title {
        font-family: helvetica;
        font-size: xx-large;
        text-align: left;
        font-weight: bold;
    }

    .info {
        background: white;
        max-width: 50%;
        text-align: left;
        padding: 20px;
        background: 1px solid #dfdfdf;
        border-radius: 7px;
        margin: 0 auto 0 auto;
    }

    .url {
        text-aize: large;
        font-weight: bold;
        padding: 20px;
    }

    .general_url {
        font-size: x-large;
    }

    code {
        font-size: small;
    }
</style>

<section id="api">
    <h2>API Documentation</h2>


    <h3>Pass through JSON API</h3>

    Use a single blockexplorer API via multiexplorer as a pass-thtough.
    Service_id is a number cooresponding to the serivice in the table below.

    {{ service_table|safe }}

    <h3>Address Balance</h3>

    <div class="info">
        URL general form:<br>
        <span class="general_url">http://{{ domain }}/api/address_balance/<i>[service_id]</i>?address=<i>[address]</i></li></span>
        <ul>
            <li><i>service_id</i> is a number corresponding to the number in the table above.</li>
            <li>The <i>currency</i> argument is optional. If you leave it off,
                the currency will be guessed from decoding the address version byte.</li>
            <li>The <i>include_raw</i> argument is also optional. Setting it to true will include
                the raw_response field in the response.</li>
        </ul>
    </div>

    <div class="examples">
        <div class='title'>Examples:</div>
        <div class="url">
            http://{{ domain }}/api/address_balance/5?address=PVjubSWa6L3RrFNNUYFbdQUJTL84qko1P5&amp;include_raw=true
        </div>

        <div class="code_wrapper">
            <code>
            <pre>
    {
        "balance": 676.070116,
        "currency": [
            "ppc",
            "Peercoin"
        ],
        "fetched_seconds_ago": 228,
        "raw_response": {
            "code": 200,
            "data": {
                "address": "PVjubSWa6L3RrFNNUYFbdQUJTL84qko1P5",
                "balance": 676.070116,
                "balance_multisig": 0,
                "first_tx": {
                    "block_nb": "180692",
                    "confirmations": 44472,
                    "time_utc": "2015-06-20T23:20:18Z",
                    "tx": "92e41bba294e9e563bf9e41ee31cb461faf56e676a397950c6f8d983ba9c322e",
                    "value": 289.742907
                },
                "is_unknown": false,
                "is_valid": true,
                "last_tx": {
                    "block_nb": "203654",
                    "confirmations": 21510,
                    "time_utc": "2015-11-03T19:33:18Z",
                    "tx": "50c4d427ea350ccb068820667098366ad86684652d7f44f738de50a64b8c6179",
                    "value": 386.327209
                },
                "nb_txs": 2,
                "totalreceived": 676.070116
            },
            "message": "",
            "status": "success"
        },
        "service_name": "Blockr.io",
        "url": "http://ppc.blockr.io/api/v1/address/info/PVjubSWa6L3RrFNNUYFbdQUJTL84qko1P5"
    }
            </pre>
            </code>
        </div>

        <div class="url">
            http://{{ domain }}/api/address_balance/5?address=LVyKFjC1Xgu7QiADYszzHC6hSFfDELgi7n&amp;currency=ltc
        </div>

        <div class="code_wrapper">
            <code>
            <pre>
    {
        "balance": 345339.0,
        "currency": [
            "ltc",
            "Litecoin"
        ],
        "fetched_seconds_ago": 31,
        "service_name": "Chain.So",
        "url": "https://chain.so/api/v2/get_address_balance/ltc/LVyKFjC1Xgu7QiADYszzHC6hSFfDELgi7n/1"
    }
            </pre>
            </code>
            </div>

    </div>

    <h3>Unspent Outputs for Address</h3>

    <div class="info">
        URL general form:<br>
        <span class="general_url">http://{{ domain }}/api/unspent_outputs/<i>[service_id]</i>?address=<i>[address]</i></li></span>
        <ul>
            <li><i>service_id</i> is a number corresponding to the number in the table above.</li>
            <li>The <i>currency</i> argument is optional. If you leave it off,
                the currency will be guessed from decoding the address version byte.</li>
            <li>The <i>include_raw</i> argument is also optional. Setting it to true will include
                the raw_response field in the response.</li>
        </ul>
    </div>

    <div class="examples">
        <div class='title'>Examples:</div>
        <div class="url">
            http://{{ domain }}/api/unspent_outputs/11?address=LVyKFjC1Xgu7QiADYszzHC6hSFfDELgi7n
        </div>
        <div class="code_wrapper">
            <code>
            <pre>
    {
        "cache_hit": false,
        "currency": [
            "ltc",
            "Litecoin"
        ],
        "fetched_seconds_ago": 0,
        "service_name": "Chain.So",
        "url": "https://chain.so/api/v2/get_tx_unspent/ltc/LVyKFjC1Xgu7QiADYszzHC6hSFfDELgi7n",
        "utxos": [
            {
                "address": "LVyKFjC1Xgu7QiADYszzHC6hSFfDELgi7n",
                "amount": 1125000000000,
                "confirmations": 2621,
                "output": "03673409f75a36a385e1e12e51222f22c5500bc4e851ba61ddb2c5d2f78d3d5b:0"
            },
            {
                "address": "LVyKFjC1Xgu7QiADYszzHC6hSFfDELgi7n",
                "amount": 1000000000,
                "confirmations": 15,
                "output": "f83ca6959e11742889dd36e9e4d3654c10aee306c174271610bb6270b2226efe:0"
            }
        ]
    }
            </pre>
            </code>
        </div>
    </div>

</section>

{% endblock %}
